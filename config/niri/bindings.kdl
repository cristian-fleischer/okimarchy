// Okimarchy Niri Keybindings
// Mirrors Hyprland defaults where possible

binds {
    // Help and menus
    Mod+K { spawn "omarchy-menu-keybindings"; }
    Mod+Shift+K { show-hotkey-overlay; }

    // App launcher and menus
    Mod+Space { spawn "omarchy-launch-walker"; }
    Mod+Ctrl+E { spawn "omarchy-launch-walker" "-m" "symbols"; }
    Mod+Alt+Space { spawn "omarchy-menu"; }
    Mod+Escape { spawn "omarchy-menu" "system"; }
    XF86PowerOff allow-when-locked=true { spawn "omarchy-menu" "system"; }

    // Theme and bar controls
    Mod+Shift+Space { spawn "omarchy-toggle-waybar"; }
    Mod+Ctrl+Space { spawn "omarchy-theme-bg-next"; }
    Mod+Shift+Ctrl+Space { spawn "omarchy-menu" "theme"; }

    // Notifications (mako)
    Mod+Comma { spawn "makoctl" "dismiss"; }
    Mod+Shift+Comma { spawn "makoctl" "dismiss" "--all"; }
    Mod+Ctrl+Comma { spawn-sh "makoctl mode -t do-not-disturb && makoctl mode | grep -q 'do-not-disturb' && notify-send \"Silenced notifications\" || notify-send \"Enabled notifications\""; }

    // Utilities
    XF86Calculator { spawn "gnome-calculator"; }

    // Media and brightness (with OSD)
    XF86AudioRaiseVolume allow-when-locked=true { spawn "swayosd-client" "--output-volume" "raise"; }
    XF86AudioLowerVolume allow-when-locked=true { spawn "swayosd-client" "--output-volume" "lower"; }
    XF86AudioMute allow-when-locked=true { spawn "swayosd-client" "--output-volume" "mute-toggle"; }
    XF86AudioMicMute allow-when-locked=true { spawn "swayosd-client" "--input-volume" "mute-toggle"; }
    XF86AudioPlay allow-when-locked=true { spawn "swayosd-client" "--playerctl" "play-pause"; }
    XF86AudioNext allow-when-locked=true { spawn "swayosd-client" "--playerctl" "next"; }
    XF86AudioPrev allow-when-locked=true { spawn "swayosd-client" "--playerctl" "previous"; }

    XF86MonBrightnessUp allow-when-locked=true { spawn "swayosd-client" "--brightness" "raise"; }
    XF86MonBrightnessDown allow-when-locked=true { spawn "swayosd-client" "--brightness" "lower"; }
    Alt+XF86AudioRaiseVolume allow-when-locked=true { spawn "swayosd-client" "--output-volume" "+1"; }
    Alt+XF86AudioLowerVolume allow-when-locked=true { spawn "swayosd-client" "--output-volume" "-1"; }
    Alt+XF86MonBrightnessUp allow-when-locked=true { spawn "swayosd-client" "--brightness" "+1"; }
    Alt+XF86MonBrightnessDown allow-when-locked=true { spawn "swayosd-client" "--brightness" "-1"; }

    Mod+XF86AudioMute { spawn "omarchy-cmd-audio-switch"; }

    // Screenshots and screen recording
    Print { spawn "omarchy-cmd-screenshot"; }
    Shift+Print { spawn "omarchy-cmd-screenshot" "smart" "clipboard"; }
    Alt+Print { spawn "omarchy-menu" "screenrecord"; }
    Mod+Print { spawn-sh "pkill hyprpicker || hyprpicker -a"; }

    // Idle and nightlight toggles
    Mod+Ctrl+I { spawn "omarchy-toggle-idle"; }
    Mod+Ctrl+N { spawn "omarchy-toggle-nightlight"; }

    // Application launches (mirroring Hyprland user bindings)
    Mod+Return { spawn-sh "dir=$(omarchy-cmd-terminal-cwd); exec uwsm-app -- \"$TERMINAL\" --working-directory=\"$dir\""; }
    Mod+Shift+F { spawn "uwsm-app" "--" "nautilus" "--new-window"; }
    Mod+Shift+B { spawn "omarchy-launch-browser"; }
    Mod+Shift+Alt+B { spawn "omarchy-launch-browser" "--private"; }
    Mod+Shift+M { spawn "omarchy-launch-or-focus" "spotify"; }
    Mod+Shift+N { spawn "omarchy-launch-editor"; }
    Mod+Shift+T { spawn "alacritty" "-e" "btop"; }
    Mod+Shift+D { spawn "alacritty" "-e" "lazydocker"; }
    Mod+Shift+G { spawn "omarchy-launch-or-focus" "signal" "uwsm-app -- signal-desktop"; }
    Mod+Shift+O { spawn "omarchy-launch-or-focus" "^obsidian$" "uwsm-app -- obsidian -disable-gpu --enable-wayland-ime"; }
    Mod+Shift+Slash { spawn "uwsm-app" "--" "1password"; }
    Mod+Shift+A { spawn "omarchy-launch-webapp" "https://chatgpt.com"; }
    Mod+Shift+Alt+A { spawn "omarchy-launch-webapp" "https://grok.com"; }
    Mod+Shift+C { spawn "omarchy-launch-webapp" "https://app.hey.com/calendar/weeks/"; }
    Mod+Shift+E { spawn "omarchy-launch-webapp" "https://app.hey.com"; }
    Mod+Shift+Y { spawn "omarchy-launch-webapp" "https://youtube.com/"; }
    Mod+Shift+Alt+G { spawn "omarchy-launch-or-focus-webapp" "WhatsApp" "https://web.whatsapp.com/"; }
    Mod+Shift+Ctrl+G { spawn "omarchy-launch-or-focus-webapp" "Google Messages" "https://messages.google.com/web/conversations"; }
    Mod+Shift+X { spawn "omarchy-launch-webapp" "https://x.com/"; }
    Mod+Shift+Alt+X { spawn "omarchy-launch-webapp" "https://x.com/compose/post"; }

    // Clipboard menu
    Mod+Ctrl+V { spawn "omarchy-launch-walker" "-m" "clipboard"; }

    // Window management
    Mod+W { close-window; }
    Ctrl+Alt+Delete { spawn "omarchy-cmd-close-all-windows"; }

    // Focus movement (arrows)
    Mod+Left { focus-column-left; }
    Mod+Right { focus-column-right; }
    Mod+Up { focus-window-up; }
    Mod+Down { focus-window-down; }

    // Window movement
    Mod+Shift+Left { move-column-left; }
    Mod+Shift+Right { move-column-right; }
    Mod+Shift+Up { move-window-up; }
    Mod+Shift+Down { move-window-down; }

    // Workspace switching (1-10)
    Mod+1 { focus-workspace 1; }
    Mod+2 { focus-workspace 2; }
    Mod+3 { focus-workspace 3; }
    Mod+4 { focus-workspace 4; }
    Mod+5 { focus-workspace 5; }
    Mod+6 { focus-workspace 6; }
    Mod+7 { focus-workspace 7; }
    Mod+8 { focus-workspace 8; }
    Mod+9 { focus-workspace 9; }
    Mod+0 { focus-workspace 10; }

    // Move window to workspace
    Mod+Shift+1 { move-column-to-workspace 1; }
    Mod+Shift+2 { move-column-to-workspace 2; }
    Mod+Shift+3 { move-column-to-workspace 3; }
    Mod+Shift+4 { move-column-to-workspace 4; }
    Mod+Shift+5 { move-column-to-workspace 5; }
    Mod+Shift+6 { move-column-to-workspace 6; }
    Mod+Shift+7 { move-column-to-workspace 7; }
    Mod+Shift+8 { move-column-to-workspace 8; }
    Mod+Shift+9 { move-column-to-workspace 9; }
    Mod+Shift+0 { move-column-to-workspace 10; }

    // Workspace navigation
    Mod+Tab { focus-workspace-down; }
    Mod+Shift+Tab { focus-workspace-up; }

    // Window cycling (Alt+Tab equivalent)
    Alt+Tab { focus-window-down; }
    Alt+Shift+Tab { focus-window-up; }

    // Layout management
    Mod+T { toggle-window-floating; }
    Mod+F { fullscreen-window; }
    Mod+Ctrl+F { maximize-column; }
    Mod+Alt+F { set-column-width "100%"; }
    Mod+R { switch-preset-column-width; }
    Mod+Shift+R { switch-preset-window-height; }

    // Column management (unique to Niri)
    Mod+BracketLeft { consume-or-expel-window-left; }
    Mod+BracketRight { consume-or-expel-window-right; }
    Mod+Alt+Comma { consume-window-into-column; }
    Mod+Alt+Period { expel-window-from-column; }

    // Window resizing
    Mod+Minus { set-column-width "-10%"; }
    Mod+Equal { set-column-width "+10%"; }
    Mod+Shift+Minus { set-window-height "-10%"; }
    Mod+Shift+Equal { set-window-height "+10%"; }

    // System controls
    Mod+Shift+Q { quit; }
    Mod+Shift+P { power-off-monitors; }

    // Mouse bindings
    Mod+WheelScrollDown cooldown-ms=150 { focus-workspace-down; }
    Mod+WheelScrollUp cooldown-ms=150 { focus-workspace-up; }
    Mod+WheelScrollRight { focus-column-right; }
    Mod+WheelScrollLeft { focus-column-left; }
}
